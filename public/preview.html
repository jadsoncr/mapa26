<!doctype html>
<html lang="pt-BR">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Mapa 2026 — Preview</title>
  <link rel="stylesheet" href="fonts.css">
  <link rel="stylesheet" href="layout/assets/css/fontawesome-all.min.css">
  <link rel="stylesheet" href="layout/assets/css/main.css">
  <link rel="stylesheet" href="mapa2026.css">
  </head>
<body class="index">
  <div id="page-wrapper">

    <section id="banner">
      <div class="inner">
        <header>
          <h1>Sinal inicial</h1>
          <p class="subtitle">Método e personalização do seu mapa.</p>
          <p class="whisper">Todo ano tem um tom. Nem sempre ele grita.</p>
        </header>
      </div>
    </section>

    <main class="page">
      <div class="container">
        <section class="section">
          <div class="gamma-card spacious" aria-live="polite">
              <div id="year">—</div>
              <h3 id="keyword">—</h3>
              <p id="impact">—</p>

              <div class="cta-row">
                <a id="toTimeline" class="gamma-cta btn" href="mapa.html">Ver a linha do tempo</a>
                <button id="copyLinkPreview" class="btn btn-secondary" onclick="(function(b){navigator.clipboard&&navigator.clipboard.writeText(location.href);b.textContent='Link copiado';setTimeout(()=>b.textContent='Copiar link',1200)})(this)">Copiar link</button>
              </div>

              <p class="microcopy">Leitura parcial · mapa26.vercel.app</p>
          </div>
        </section>
      </div>
    </main>

    <script>
      (function(){
        var birth = localStorage.getItem('mapa2026_birthdate');
        var card = document.querySelector('.gamma-card.spacious[aria-live]');
        if(!card) return;
        if(!birth){
          card.innerHTML = '<h3>Inicie seu mapa</h3><p>Para gerar sua leitura, inicie o micro-ritual.</p><p><a class="button primary" href="inicio.html">Criar meu mapa</a></p>';
          return;
        }
        // ensure ids exist for main.js to populate
        card.innerHTML = '<div id="year">—</div><h3 id="keyword">—</h3><p id="impact">—</p>\n' +
                         '<div class="cta-row">\n' +
                         '<a id="toTimeline" class="gamma-cta btn" href="mapa.html">Ver a linha do tempo</a>\n' +
                         '<button id="copyLinkPreview" class="btn btn-secondary">Copiar link</button>\n' +
                         '</div>\n' +
                         '<p class="microcopy">Leitura parcial · mapa26.vercel.app</p>';
        // wire copy button
        var btn = card.querySelector('#copyLinkPreview');
        if(btn) btn.addEventListener('click', function(){ navigator.clipboard && navigator.clipboard.writeText(location.href); btn.textContent='Link copiado'; setTimeout(()=>btn.textContent='Copiar link',1200); });
      })();
    </script>

    <footer id="footer">
      <ul class="copyright"><li>&copy; Mapa 2026</li></ul>
    </footer>

  </div>

  <script src="data/mapa2026-data.js"></script>
  <script src="main.js" defer></script>
</body>
</html>

